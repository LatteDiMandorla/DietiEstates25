{
  "version": 3,
  "sources": ["../../react-use-rect/dist/index.esm.js"],
  "sourcesContent": ["// src/use-rect.ts\nimport { useCallback, useEffect, useRef } from \"react\";\nfunction useRect(dispatchChange, { resize = false } = {}) {\n  const dispatchChangeRef = useRef(dispatchChange);\n  useEffect(() => {\n    dispatchChangeRef.current = dispatchChange;\n  }, [dispatchChange]);\n  const resizeRef = useRef(resize);\n  useEffect(() => {\n    resizeRef.current = resize;\n    setupResizeObserver();\n  }, [resize]);\n  const elementRef = useRef(null);\n  const setElement = useCallback((element) => {\n    if (element === elementRef.current) {\n      return;\n    }\n    elementRef.current = element;\n    revalidate();\n    setupResizeObserver();\n  }, []);\n  const rectRef = useRef(null);\n  const revalidate = useCallback(\n    ({ force = false } = {}) => {\n      if (!elementRef.current) {\n        return;\n      }\n      const nextRect = elementRef.current.getBoundingClientRect();\n      if (force || shouldDispatchRectChange(rectRef.current, nextRect)) {\n        rectRef.current = nextRect;\n        const { bottom, height, left, right, top, width, x, y } = nextRect;\n        dispatchChangeRef.current({\n          bottom,\n          height,\n          left,\n          right,\n          top,\n          width,\n          x,\n          y\n        });\n      }\n    },\n    []\n  );\n  const resizeObserverRef = useRef(null);\n  const setupResizeObserver = useCallback(() => {\n    if (resizeObserverRef.current) {\n      resizeObserverRef.current.disconnect();\n      resizeObserverRef.current = null;\n    }\n    if (elementRef.current && resizeRef.current) {\n      resizeObserverRef.current = new ResizeObserver(() => revalidate());\n      resizeObserverRef.current.observe(elementRef.current);\n    }\n  }, [revalidate]);\n  useEffect(revalidate);\n  return [setElement, revalidate];\n}\nvar RECT_KEYS = [\n  \"bottom\",\n  \"height\",\n  \"left\",\n  \"right\",\n  \"top\",\n  \"width\",\n  \"x\",\n  \"y\"\n];\nfunction shouldDispatchRectChange(rect, nextRect) {\n  return !rect || rect !== nextRect && RECT_KEYS.some((key) => rect[key] !== nextRect[key]);\n}\n\n// src/use-window-on.ts\nimport { useEffect as useEffect2, useRef as useRef2 } from \"react\";\nfunction useWindowOn(eventType, callback) {\n  const callbackRef = useRef2(callback);\n  useEffect2(() => {\n    callbackRef.current = callback;\n  });\n  useEffect2(() => {\n    if (typeof window === \"undefined\") {\n      return void 0;\n    }\n    const listener = (event) => {\n      callbackRef.current(event);\n    };\n    const options = {\n      capture: true,\n      passive: true\n    };\n    window.addEventListener(eventType, listener, options);\n    return () => {\n      window.removeEventListener(eventType, listener, options);\n    };\n  }, [eventType]);\n}\nexport {\n  useRect,\n  useWindowOn\n};\n"],
  "mappings": ";;;;;;;;AACA,mBAA+C;AAyE/C,IAAAA,gBAA2D;AAxE3D,SAAS,QAAQ,gBAAgB,EAAE,SAAS,MAAM,IAAI,CAAC,GAAG;AACxD,QAAM,wBAAoB,qBAAO,cAAc;AAC/C,8BAAU,MAAM;AACd,sBAAkB,UAAU;AAAA,EAC9B,GAAG,CAAC,cAAc,CAAC;AACnB,QAAM,gBAAY,qBAAO,MAAM;AAC/B,8BAAU,MAAM;AACd,cAAU,UAAU;AACpB,wBAAoB;AAAA,EACtB,GAAG,CAAC,MAAM,CAAC;AACX,QAAM,iBAAa,qBAAO,IAAI;AAC9B,QAAM,iBAAa,0BAAY,CAAC,YAAY;AAC1C,QAAI,YAAY,WAAW,SAAS;AAClC;AAAA,IACF;AACA,eAAW,UAAU;AACrB,eAAW;AACX,wBAAoB;AAAA,EACtB,GAAG,CAAC,CAAC;AACL,QAAM,cAAU,qBAAO,IAAI;AAC3B,QAAM,iBAAa;AAAA,IACjB,CAAC,EAAE,QAAQ,MAAM,IAAI,CAAC,MAAM;AAC1B,UAAI,CAAC,WAAW,SAAS;AACvB;AAAA,MACF;AACA,YAAM,WAAW,WAAW,QAAQ,sBAAsB;AAC1D,UAAI,SAAS,yBAAyB,QAAQ,SAAS,QAAQ,GAAG;AAChE,gBAAQ,UAAU;AAClB,cAAM,EAAE,QAAQ,QAAQ,MAAM,OAAO,KAAK,OAAO,GAAG,EAAE,IAAI;AAC1D,0BAAkB,QAAQ;AAAA,UACxB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACF,CAAC;AAAA,MACH;AAAA,IACF;AAAA,IACA,CAAC;AAAA,EACH;AACA,QAAM,wBAAoB,qBAAO,IAAI;AACrC,QAAM,0BAAsB,0BAAY,MAAM;AAC5C,QAAI,kBAAkB,SAAS;AAC7B,wBAAkB,QAAQ,WAAW;AACrC,wBAAkB,UAAU;AAAA,IAC9B;AACA,QAAI,WAAW,WAAW,UAAU,SAAS;AAC3C,wBAAkB,UAAU,IAAI,eAAe,MAAM,WAAW,CAAC;AACjE,wBAAkB,QAAQ,QAAQ,WAAW,OAAO;AAAA,IACtD;AAAA,EACF,GAAG,CAAC,UAAU,CAAC;AACf,8BAAU,UAAU;AACpB,SAAO,CAAC,YAAY,UAAU;AAChC;AACA,IAAI,YAAY;AAAA,EACd;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AACA,SAAS,yBAAyB,MAAM,UAAU;AAChD,SAAO,CAAC,QAAQ,SAAS,YAAY,UAAU,KAAK,CAAC,QAAQ,KAAK,GAAG,MAAM,SAAS,GAAG,CAAC;AAC1F;AAIA,SAAS,YAAY,WAAW,UAAU;AACxC,QAAM,kBAAc,cAAAC,QAAQ,QAAQ;AACpC,oBAAAC,WAAW,MAAM;AACf,gBAAY,UAAU;AAAA,EACxB,CAAC;AACD,oBAAAA,WAAW,MAAM;AACf,QAAI,OAAO,WAAW,aAAa;AACjC,aAAO;AAAA,IACT;AACA,UAAM,WAAW,CAAC,UAAU;AAC1B,kBAAY,QAAQ,KAAK;AAAA,IAC3B;AACA,UAAM,UAAU;AAAA,MACd,SAAS;AAAA,MACT,SAAS;AAAA,IACX;AACA,WAAO,iBAAiB,WAAW,UAAU,OAAO;AACpD,WAAO,MAAM;AACX,aAAO,oBAAoB,WAAW,UAAU,OAAO;AAAA,IACzD;AAAA,EACF,GAAG,CAAC,SAAS,CAAC;AAChB;",
  "names": ["import_react", "useRef2", "useEffect2"]
}
